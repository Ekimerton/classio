(this["webpackJsonpclassio-react"]=this["webpackJsonpclassio-react"]||[]).push([[0],{136:function(e,t,n){},137:function(e,t,n){},170:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),s=n(23),r=n.n(s),i=(n(136),n(66)),l=n.n(i),o=n(78),j=n(56),d=n(32),u=(n(137),n(138),n(179)),b=n(177),h=n(41),f=n(129),O=n(175),x=n(180),p=n(130),m=n(178),g=n(53),v=n(79),y=n.n(v),S=n(50),T=n.n(S),_=n(176),w=n(182),C=n(6),k=_.a.Meta,A=u.a.Text;u.a.Paragraph;function F(e){var t=Object(c.useState)(!0),n=Object(d.a)(t,2),a=n[0],s=n[1],r=Object(c.useState)(""),i=Object(d.a)(r,2),j=i[0],u=i[1],b=Object(c.useState)(0),h=Object(d.a)(b,2),f=h[0],O=h[1],x=Object(C.jsx)("div",{style:{maxWidth:200},children:Object(C.jsx)(A,{children:"Some classes are async, and might not have set timeslots."})}),p=e.code,m=e.onDelete,g=e.onAdd,v=e.semester;return Object(c.useEffect)((function(){var e=function(){var e=Object(o.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get("https://classio-api.herokuapp.com/course/".concat(p),{params:{semester:v}});case 2:t=e.sent,u(t.data.course_info.name),console.log(t.data.course_info.sections),n=T.a.flatMap(t.data.course_info.sections,"timeslots"),O(n.length),g(t.data.course_info),s(!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();s(!0),e()}),[p,v]),Object(C.jsx)(_.a,{size:"small",bordered:!1,title:p,loading:a,className:"App-class-card",style:{marginRight:10,height:120},extra:Object(C.jsx)("a",{onClick:function(){return m(e.code)},children:"X"}),children:Object(C.jsx)(k,{title:j,description:Object(C.jsxs)("div",{children:[Object(C.jsx)(A,{children:"Found ".concat(f," timeslot(s)")}),0===f&&Object(C.jsx)(w.a,{content:x,title:"Why are there no timeslots?",children:Object(C.jsx)("a",{children:" ? "})})]})})})}var z=n(181),M=n(183),W=n(70),N=n(38),P=u.a.Title;function B(e){var t=e.timeslots;return Object(C.jsx)(_.a,{style:{width:"100%"},bodyStyle:{padding:0},size:"small",children:Object(C.jsxs)(W.a,{justify:"center",style:{margin:0,paddingTop:10},children:[Object(C.jsxs)(N.a,{flex:1,children:[Object(C.jsx)(P,{level:5,children:"Monday"}),t.Mo.map((function(e){return Object(C.jsx)("p",{children:"".concat(e.start_time," - ").concat(e.end_time)})}))]}),Object(C.jsxs)(N.a,{flex:1,children:[Object(C.jsx)(P,{level:5,children:"Tuesday"}),t.Tu.map((function(e){return Object(C.jsx)("p",{children:"".concat(e.start_time," - ").concat(e.end_time)})}))]}),Object(C.jsxs)(N.a,{flex:1,children:[Object(C.jsx)(P,{level:5,children:"Wednesday"}),t.We.map((function(e){return Object(C.jsx)("p",{children:"".concat(e.start_time," - ").concat(e.end_time)})}))]}),Object(C.jsxs)(N.a,{flex:1,children:[Object(C.jsx)(P,{level:5,children:"Thursday"}),t.Th.map((function(e){return Object(C.jsx)("p",{children:"".concat(e.start_time," - ").concat(e.end_time)})}))]}),Object(C.jsxs)(N.a,{flex:1,children:[Object(C.jsx)(P,{level:5,children:"Friday"}),t.Fr.map((function(e){return Object(C.jsx)("p",{children:"".concat(e.start_time," - ").concat(e.end_time)})}))]})]})})}var E=z.a.Panel;function I(e){var t=e.timetable,n=t.timetable,c=t.scores;return Object(C.jsx)(z.a,{children:Object(C.jsx)(E,{header:Object(C.jsxs)("div",{children:[Object(C.jsx)(M.a,{color:"green",children:"Mid-day"}),Object(C.jsxs)(M.a,{color:"blue",children:["Score: ",c.total,"/10"]}),Object(C.jsxs)(M.a,{color:"blue",children:["Lunches: ",c.lunch,"/5"]}),Object(C.jsxs)(M.a,{color:"blue",children:["Dinners: ",c.lunch,"/5"]}),Object(C.jsxs)(M.a,{color:"blue",children:["Time wasted: ",c.offTime,"h"]})]}),style:{padding:0,margin:0,justifyContent:"flex-start",alignItems:"flex-start",backgroundColor:"#ffffff"},showArrow:!1,children:Object(C.jsx)(B,{timeslots:n})},"1")})}var L=n(98),D=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return n===t.length?c.push(a):t[n].forEach((function(s){return e(t,n+1,c,[].concat(Object(j.a)(a),[s]))})),c},R=["Mo","Tu","We","Th","Fr"],U=u.a.Paragraph,G=u.a.Text,J=u.a.Title,Q=b.a.Step,V=h.a.Option;var X=function(){var e=Object(c.useState)([]),t=Object(d.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)(""),r=Object(d.a)(s,2),i=r[0],u=r[1],v=Object(c.useState)("2021 Fall"),S=Object(d.a)(v,2),_=S[0],w=S[1],k=Object(c.useState)([]),A=Object(d.a)(k,2),z=A[0],M=A[1],W=Object(c.useState)([]),N=Object(d.a)(W,2),P=N[0],B=N[1],E=Object(c.useState)(!1),X=Object(d.a)(E,2),Y=X[0],q=X[1],H=Object(c.useState)(-1),K=Object(d.a)(H,2),Z=K[0],$=K[1],ee=Object(c.useState)([]),te=Object(d.a)(ee,2),ne=te[0],ce=te[1],ae=function(e){var t=Object(j.a)(P);t.unshift(e),B(t)};Object(c.useEffect)((function(){var e=function(){var e=Object(o.a)(l.a.mark((function e(){var t,n,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get("https://classio-api.herokuapp.com/course",{params:{semester:_}});case 2:t=e.sent,n=t.data.course_codes,c=[],n.forEach((function(e){c.push({value:e})})),a(c),q(!1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();q(!0),e()}),[_]);var se=function(e){var t=Object(j.a)(z),n=Object(j.a)(P),c=t.indexOf(e);t.splice(c,1),n.splice(c,1),M(t),B(n)};return Object(C.jsx)("div",{className:"App",children:Object(C.jsx)("header",{className:"App-header",children:Object(C.jsxs)("div",{style:{maxWidth:"100%",width:800,padding:10},children:[Object(C.jsxs)("div",{className:"App-section",style:{textAlign:"center"},children:[Object(C.jsx)(J,{children:"classio \u2022 Queen's University"}),Object(C.jsx)(G,{children:"A better take on class selection. Put some content here ashasdhalsdha"})]}),Object(C.jsxs)("div",{className:"App-section",children:[Object(C.jsxs)("div",{style:{flex:1,flexDirection:"row",justifyContent:"space-around",alignItems:"center",marginBottom:20,display:"flex"},children:[Object(C.jsxs)(h.a,{defaultValue:"2021 Fall",size:"large",style:{flex:.3,marginRight:10},onChange:function(e){return function(e){$(-1),w(e),u(""),M([]),B([]),ce([])}(e)},children:[Object(C.jsx)(V,{value:"2021 Fall",children:"Fall 2021"}),Object(C.jsx)(V,{value:"2021 Winter",children:"Winter 2021"})]}),Object(C.jsx)(O.a,{allowClear:!0,disabled:Y,value:i,options:n,loading:Y,style:{flex:1},onSelect:function(e){!function(e){if(z.includes(e))f.b.error("You can't select the same class twice!");else{var t=Object(j.a)(z);t.unshift(e),M(t),u("")}}(e)},onSearch:function(){},onChange:u,filterOption:function(e,t){return-1!==t.value.toUpperCase().indexOf(e.toUpperCase())},children:Object(C.jsx)(x.a,{size:"large",placeholder:Y?"Loading courses...":"Enter course code",disabled:Y})})]}),Object(C.jsxs)(U,{children:["Selected ",Object(C.jsx)("b",{children:P.length})," course(s)"]}),Object(C.jsx)("div",{className:"App-horizontal-scroll",children:z.map((function(e){return Object(C.jsx)(F,{onDelete:se,code:e,onAdd:ae,semester:_},e)}))}),Object(C.jsx)(p.a,{style:{marginTop:10},type:"primary",block:!0,size:"large",disabled:0===P.length,onClick:function(){ce([]),$(0);var e=function(e){var t,n=[],c=Object(L.a)(e);try{for(c.s();!(t=c.n()).done;){var a=t.value,s=T.a.filter(a.sections,(function(e){return e.timeslots.length>0})),r=T.a.groupBy(s,(function(e){return e.kind})),i=Object.values(r);n=n.concat(i)}}catch(l){c.e(l)}finally{c.f()}return n}(P);$(1);var t=function(e){var t,n=[],c=Object(L.a)(e);try{for(c.s();!(t=c.n()).done;){var a,s=t.value,r=T.a.flatMap(s,(function(e){return e.timeslots})),i=T.a.groupBy(r,(function(e){return e.day})),l=!0,o=Object(L.a)(R);try{for(o.s();!(a=o.n()).done;){var j=a.value;if(i[j]=T.a.sortBy(i[j],"start_time"),!(l=l&&(i[j],!0)))break}}catch(d){o.e(d)}finally{o.f()}l&&n.push(i)}}catch(d){c.e(d)}finally{c.f()}return n}(D(e));$(2);var n=function(e){return e.map((function(e){return{scores:{total:8,lunch:3,dinner:4,offTime:8},timetable:e}}))}(t);ce(n),$(3)},children:"Generate Timetables"})]}),Object(C.jsxs)("div",{className:"App-section",style:{textAlign:"center"},children:[Object(C.jsxs)(b.a,{size:"small",current:Z,children:[Object(C.jsx)(Q,{title:"Parsing",icon:0===Z&&Object(C.jsx)(g.a,{})}),Object(C.jsx)(Q,{title:"Generating",icon:1===Z&&Object(C.jsx)(g.a,{})}),Object(C.jsx)(Q,{title:"Scoring",icon:2===Z&&Object(C.jsx)(g.a,{})})]}),Object(C.jsx)(m.b,{itemLayout:"vertical",size:"large",pagination:{onChange:function(e){console.log(e)},pageSize:10},style:{padding:0},dataSource:ne,renderItem:function(e){return Object(C.jsx)(m.b.Item,{style:{paddingLeft:0,paddingRight:0},children:Object(C.jsx)(I,{timetable:e})},e.title)}}),","]})]})})})},Y=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,184)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),c(e),a(e),s(e),r(e)}))};r.a.render(Object(C.jsx)(a.a.StrictMode,{children:Object(C.jsx)(X,{})}),document.getElementById("root")),Y()}},[[170,1,2]]]);
//# sourceMappingURL=main.ab3edc04.chunk.js.map