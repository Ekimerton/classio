(this["webpackJsonpclassio-react"]=this["webpackJsonpclassio-react"]||[]).push([[0],{138:function(e,t,n){},139:function(e,t,n){},171:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(23),s=n.n(r),i=(n(138),n(66)),l=n.n(i),o=n(80),u=n(56),d=n(33),j=(n(139),n(140),n(181)),h=n(179),b=n(42),f=n(131),m=n(176),O=n(177),p=n(182),g=n(132),x=n(180),v=n(53),y=n(81),_=n.n(y),w=n(40),k=n.n(w),T=n(178),S=n(184),M=n(6),F=T.a.Meta,C=j.a.Text;j.a.Paragraph;function I(e){var t=Object(a.useState)(!0),n=Object(d.a)(t,2),c=n[0],r=n[1],s=Object(a.useState)(""),i=Object(d.a)(s,2),u=i[0],j=i[1],h=Object(a.useState)(0),b=Object(d.a)(h,2),f=b[0],m=b[1],O=Object(M.jsx)("div",{style:{maxWidth:200},children:Object(M.jsx)(C,{children:"Some classes are async, and might not have set timeslots."})}),p=e.code,g=e.onDelete,x=e.onAdd,v=e.semester;return Object(a.useEffect)((function(){var e=function(){var e=Object(o.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.get("https://classio-api.herokuapp.com/course/".concat(p),{params:{semester:v}});case 2:t=e.sent,j(t.data.course_info.name),n=k.a.flatMap(t.data.course_info.sections,"timeslots"),m(n.length),x(t.data.course_info),r(!1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();r(!0),e()}),[p,v]),Object(M.jsx)(T.a,{size:"small",bordered:!1,title:p,loading:c,className:"App-class-card",style:{marginRight:10,height:120},extra:Object(M.jsx)("a",{onClick:function(){return g(e.code)},children:"X"}),children:Object(M.jsx)(F,{title:u,description:Object(M.jsxs)("div",{children:[Object(M.jsx)(C,{children:"Found ".concat(f," timeslot(s)")}),0===f&&Object(M.jsx)(S.a,{content:O,title:"Why are there no timeslots?",children:Object(M.jsx)("a",{children:" ? "})})]})})})}var A=n(183),L=n(185),N=n(70),E=n(38),z=j.a.Title;function D(e){var t=e.timeslots;return Object(M.jsx)(T.a,{style:{width:"100%"},bodyStyle:{padding:0},size:"small",children:Object(M.jsxs)(N.a,{justify:"center",style:{margin:0,paddingTop:10,justifyContent:"center"},children:[Object(M.jsxs)(E.a,{flex:1,className:"Timetable-column",children:[Object(M.jsx)(z,{level:5,children:"Monday"}),t.Mo.map((function(e){return Object(M.jsx)("p",{children:"".concat(e.start_time," - ").concat(e.end_time)})}))]}),Object(M.jsxs)(E.a,{flex:1,className:"Timetable-column",children:[Object(M.jsx)(z,{level:5,children:"Tuesday"}),t.Tu.map((function(e){return Object(M.jsx)("p",{children:"".concat(e.start_time," - ").concat(e.end_time)})}))]}),Object(M.jsxs)(E.a,{flex:1,className:"Timetable-column",children:[Object(M.jsx)(z,{level:5,children:"Wednesday"}),t.We.map((function(e){return Object(M.jsx)("p",{children:"".concat(e.start_time," - ").concat(e.end_time)})}))]}),Object(M.jsxs)(E.a,{flex:1,className:"Timetable-column",children:[Object(M.jsx)(z,{level:5,children:"Thursday"}),t.Th.map((function(e){return Object(M.jsx)("p",{children:"".concat(e.start_time," - ").concat(e.end_time)})}))]}),Object(M.jsxs)(E.a,{flex:1,className:"Timetable-column",children:[Object(M.jsx)(z,{level:5,children:"Friday"}),t.Fr.map((function(e){return Object(M.jsx)("p",{children:"".concat(e.start_time," - ").concat(e.end_time)})}))]})]})})}var W=A.a.Panel;function B(e){var t=e.timetable,n=t.timetable,a=t.scores;return Object(M.jsx)(A.a,{children:Object(M.jsx)(W,{header:Object(M.jsxs)("div",{children:[Object(M.jsx)(L.a,{color:{Early:"gold","Mid-Day":"green",Late:"geekblue"}[a.type],style:{margin:5},children:a.type}),Object(M.jsxs)(L.a,{color:"blue",style:{margin:5},children:["Score: ",a.total,"/10"]}),Object(M.jsxs)(L.a,{color:"blue",style:{margin:5},children:["Time wasted: ",a.offTime,"h"]}),Object(M.jsxs)(L.a,{color:"blue",style:{margin:5},children:["Lunches: ",a.lunch,"/5"]}),Object(M.jsxs)(L.a,{color:"blue",style:{margin:5},children:["Dinners: ",a.dinner,"/5"]})]}),style:{padding:0,margin:0,justifyContent:"flex-start",alignItems:"flex-start",backgroundColor:"#ffffff"},showArrow:!1,children:Object(M.jsx)(D,{timeslots:n})},"1")})}var P=n(78),H=n(71),G=n.n(H),R=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return n===t.length?a.push(c):t[n].forEach((function(r){return e(t,n+1,a,[].concat(Object(u.a)(c),[r]))})),a},J=["Mo","Tu","We","Th","Fr"],q={start_time:"11:30",end_time:"12:30"},U={start_time:"18:30",end_time:"19:30"},Y=function(e){if(0===e.length||1===e.length)return!0;for(var t=1;t<e.length;t++){var n=e[t-1];if(e[t].start_time<n.end_time)return!1}return!0},Z=function(e){for(var t={Early:0,"Mid-Day":0,Late:0},n=0,a=Object.values(e);n<a.length;n++){var c,r=a[n],s=Object(P.a)(r);try{for(s.s();!(c=s.n()).done;){var i=c.value;i.start_time<"10:30"?t.Early++:i.start_time<"3:30"?t["Mid-Day"]++:t.Late++}}catch(l){s.e(l)}finally{s.f()}}return Object.entries(t).reduce((function(e,t){return e[1]>t[1]?e:t}))[0]},K=function(e){if(0===e.length||1===e.length)return 0;for(var t=0,n=1;n<e.length;n++){var a=e[n-1],c=e[n],r=G()(a.end_time,G.a.HTML5_FMT.TIME),s=G()(c.start_time,G.a.HTML5_FMT.TIME);t+=G.a.duration(s.diff(r)).asHours()}return t},Q=function(e,t){if(0===e.length)return!0;if(1===e.length)return!(t.end_time>e[0].start_time&&e[0].end_time>t.start_time);for(var n,a=0,c=e.length-1;;){if(e[n=Math.floor((c+a)/2)].end_time===t.start_time){n++;break}if(e[n].end_time>t.start_time){if(a>(c=n-1))break}else if((a=n+1)>c){n++;break}}return n===e.length||t.end_time<=e[n].start_time},V=j.a.Paragraph,X=(j.a.Text,j.a.Title),$=j.a.Link,ee=h.a.Step,te=b.a.Option;var ne=function(){var e=Object(a.useState)([]),t=Object(d.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(""),s=Object(d.a)(r,2),i=s[0],j=s[1],y=Object(a.useState)("2021 Fall"),w=Object(d.a)(y,2),T=w[0],S=w[1],F=Object(a.useState)([]),C=Object(d.a)(F,2),A=C[0],L=C[1],N=Object(a.useState)([]),E=Object(d.a)(N,2),z=E[0],D=E[1],W=Object(a.useState)(!1),H=Object(d.a)(W,2),G=H[0],ne=H[1],ae=Object(a.useState)(-1),ce=Object(d.a)(ae,2),re=ce[0],se=ce[1],ie=Object(a.useState)([]),le=Object(d.a)(ie,2),oe=le[0],ue=le[1],de=function(e){var t=Object(u.a)(z);t.unshift(e),D(t)};Object(a.useEffect)((function(){var e=function(){var e=Object(o.a)(l.a.mark((function e(){var t,n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.get("https://classio-api.herokuapp.com/course",{params:{semester:T}});case 2:t=e.sent,n=t.data.course_codes,a=[],n.forEach((function(e){a.push({value:e})})),c(a),ne(!1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();ne(!0),e()}),[T]);var je=function(e){var t=Object(u.a)(A),n=Object(u.a)(z),a=t.indexOf(e);t.splice(a,1),n.splice(a,1),L(t),D(n)};return Object(M.jsx)("div",{className:"App",children:Object(M.jsx)("header",{className:"App-header",children:Object(M.jsxs)("div",{style:{maxWidth:"100%",width:800,padding:10},children:[Object(M.jsxs)("div",{className:"App-section",style:{fontSize:14},children:[Object(M.jsx)(X,{style:{textAlign:"center"},children:"classio"}),Object(M.jsxs)(V,{style:{textAlign:"center",marginTop:-10},children:["Found a bug? Have a suggestion?",Object(M.jsx)($,{href:"https://docs.google.com/forms/d/1FNYSnC7lkeZQt-3fw_PotWnGe5q40A5vKZaJDMRs5b4/edit",target:"_blank",children:" Let me know!"})]}),Object(M.jsx)(V,{children:"classio is an app that helps with course selection. Once you enter which classes you are taking, it automatically creates all possible timetables, eliminates any with conflicts, and ranks them for convenience."}),Object(M.jsxs)(V,{children:["All of the course information used within this project comes from my ",Object(M.jsx)($,{href:"https://classio-api.herokuapp.com",target:"_blank",children:"open-source api"}),". If you have a keen eye for code, or are looking to get into coding, I would recommend giving it a shot in your next project!"]}),Object(M.jsx)(m.a,{}),Object(M.jsxs)(V,{ellipsis:{rows:2,expandable:!0,symbol:"more"},children:["Thanks for using my app! I created classio in 2019 because I was frustrated with the overly-tedious course selection process. Since then, I've gotten a lot of requests to update it for future semesters. I had originally planned to update classio for 2020. However, the original was mostly spaghetti code that was slow and very hard to read. Plus, most courses in 2020 ended up being online, which meant their timeslots were fungible. For 2021, as we slowly go back to physical learning, I hope classio can be of use to you. Good luck in the upcoming semester!",Object(M.jsx)("br",{}),Object(M.jsx)("br",{}),"Best wishes,",Object(M.jsx)("br",{}),Object(M.jsx)("br",{}),"Ekim ",Object(M.jsx)($,{href:"https://www.linkedin.com/in/ekim-karabey/",target:"_blank",children:"(LinkedIn)"})]})]}),Object(M.jsxs)("div",{className:"App-section",children:[Object(M.jsxs)("div",{style:{flex:1,flexDirection:"row",justifyContent:"space-around",alignItems:"center",marginBottom:20,display:"flex"},children:[Object(M.jsxs)(b.a,{defaultValue:"2021 Fall",size:"large",style:{flex:.3,marginRight:10},onChange:function(e){return function(e){se(-1),S(e),j(""),L([]),D([]),ue([])}(e)},children:[Object(M.jsx)(te,{value:"2021 Fall",children:"Fall 2021"}),Object(M.jsx)(te,{value:"2021 Winter",children:"Winter 2021"})]}),Object(M.jsx)(O.a,{allowClear:!0,disabled:G,value:i,options:n,loading:G,style:{flex:1},onSelect:function(e){!function(e){if(A.includes(e))f.b.error("You can't select the same class twice!");else{var t=Object(u.a)(A);t.unshift(e),L(t),j("")}}(e)},onSearch:function(){},onChange:j,filterOption:function(e,t){return-1!==t.value.toUpperCase().indexOf(e.toUpperCase())},children:Object(M.jsx)(p.a,{size:"large",placeholder:G?"Loading courses...":"Enter course code",disabled:G})})]}),Object(M.jsxs)(V,{children:["Selected ",Object(M.jsx)("b",{children:z.length})," course(s)"]}),Object(M.jsx)("div",{className:"App-horizontal-scroll",children:A.map((function(e){return Object(M.jsx)(I,{onDelete:je,code:e,onAdd:de,semester:T},e)}))}),Object(M.jsx)(g.a,{style:{marginTop:10},type:"primary",block:!0,size:"large",disabled:0===z.length,onClick:function(){ue([]),se(0);var e=function(e){var t,n=[],a=Object(P.a)(e);try{for(a.s();!(t=a.n()).done;){var c=t.value,r=k.a.filter(c.sections,(function(e){return e.timeslots.length>0})),s=k.a.groupBy(r,(function(e){return e.kind})),i=Object.values(s);n=n.concat(i)}}catch(l){a.e(l)}finally{a.f()}return n}(z);se(1);var t=function(e){var t,n=[],a=Object(P.a)(e);try{for(a.s();!(t=a.n()).done;){var c,r=t.value,s=k.a.flatMap(r,(function(e){return e.timeslots})),i=k.a.groupBy(s,(function(e){return e.day})),l=!0,o=Object(P.a)(J);try{for(o.s();!(c=o.n()).done;){var u=c.value;if(i[u]=k.a.sortBy(i[u],"start_time"),!(l=l&&Y(i[u])))break}}catch(d){o.e(d)}finally{o.f()}l&&n.push(i)}}catch(d){a.e(d)}finally{a.f()}return n}(R(e));se(2);var n=function(e){return e.map((function(e){for(var t={total:0,lunch:0,dinner:0,offTime:0,type:"late"},n=0,a=Object.values(e);n<a.length;n++){var c=a[n];t.offTime+=K(c),t.lunch+=Q(c,q)?1:0,t.dinner+=Q(c,U)?1:0}return t.type=Z(e),t.total=10-(5-t.lunch)-(5-t.dinner)-Math.round(t.offTime),{scores:t,timetable:e}}))}(t),a=k.a.sortBy(n,(function(e){return e.scores.total})).reverse();ue(a),se(3)},children:"Generate Timetables"})]}),Object(M.jsxs)("div",{className:"App-section",style:{textAlign:"center"},children:[Object(M.jsxs)(h.a,{size:"small",current:re,children:[Object(M.jsx)(ee,{title:"Parsing",icon:0===re&&Object(M.jsx)(v.a,{})}),Object(M.jsx)(ee,{title:"Generating",icon:1===re&&Object(M.jsx)(v.a,{})}),Object(M.jsx)(ee,{title:"Scoring",icon:2===re&&Object(M.jsx)(v.a,{})})]}),Object(M.jsxs)(m.a,{plain:!0,children:["Showing ",oe.length," option(s)"]}),Object(M.jsx)(x.b,{itemLayout:"vertical",size:"large",pagination:{onChange:function(e){console.log(e)},pageSize:10},style:{padding:0},dataSource:oe,renderItem:function(e){return Object(M.jsx)(x.b.Item,{style:{paddingLeft:0,paddingRight:0},children:Object(M.jsx)(B,{timetable:e})},Math.floor(1e4*Math.random()))}}),","]})]})})})},ae=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,186)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),r(e),s(e)}))};s.a.render(Object(M.jsx)(c.a.StrictMode,{children:Object(M.jsx)(ne,{})}),document.getElementById("root")),ae()}},[[171,1,2]]]);
//# sourceMappingURL=main.f4e60803.chunk.js.map